<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ü–æ–∏—Å–∫ ‚Äî RPWiki</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-wrapper">
        <header class="site-header">
            <div class="header-content">
                <div class="logo-area">
                    <a href="index.html" style="text-decoration: none;">
                        <h1 class="logo">RPWiki</h1>
                    </a>
                    <span class="logo-badge">beta</span>
                </div>
                <div class="search-container">
                    <svg class="search-icon" viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M10.25 3.75c-3.59 0-6.5 2.91-6.5 6.5s2.91 6.5 6.5 6.5c1.795 0 3.419-.726 4.596-1.904 1.177-1.177 1.904-2.801 1.904-4.596 0-3.59-2.91-6.5-6.5-6.5zm-8.5 6.5c0-4.694 3.806-8.5 8.5-8.5s8.5 3.806 8.5 8.5c0 1.986-.682 3.815-1.824 5.262l4.781 4.781-1.414 1.414-4.781-4.781c-1.447 1.142-3.276 1.824-5.262 1.824-4.694 0-8.5-3.806-8.5-8.5z"/>
                    </svg>
                    <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥–∞–º..." value="">
                </div>
            </div>
        </header>

        <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ -->
        <div class="back-navigation">
            <a href="javascript:history.back()" class="back-button">
                <svg viewBox="0 0 24 24" width="20" height="20">
                    <path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                </svg>
                –ù–∞–∑–∞–¥
            </a>
        </div>

        <div class="search-results-page">
            <div class="category-header">
                <h1>üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞</h1>
                <p id="searchQuery">–ü–æ –∑–∞–ø—Ä–æ—Å—É: </p>
            </div>

            <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
            <div class="articles-grid" id="searchResults">
                <!-- JavaScript –≤—Å—Ç–∞–≤–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—é–¥–∞ -->
            </div>

            <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ -->
            <div id="noResults" style="display: none; text-align: center; padding: 40px; color: var(--x-text-secondary);">
                <svg width="64" height="64" viewBox="0 0 24 24" fill="currentColor" style="opacity: 0.5; margin-bottom: 16px;">
                    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                </svg>
                <h3>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</h3>
                <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å</p>
            </div>
        </div>

        <footer class="site-footer">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="wnn.png" alt="Wilson News Network" class="footer-logo-img" onerror="this.style.display='none'">
                </div>
                <div class="footer-text">
                    <p>Wilson News Network ¬© 2025. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
                    <p class="hashtag">#–°—Ñ–µ—Ä–∞_–°–≤–æ–±–æ–¥—ã ‚Äî United in diversity</p>
                </div>
                <a href="https://t.me/S1Wilson" class="telegram-btn" target="_blank">
                    <svg width="20" height="20" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.06-.2s-.17-.04-.25-.02c-.11.02-1.85 1.17-5.21 3.42-.49.34-.94.5-1.34.49-.44-.01-1.29-.25-1.92-.46-.77-.25-1.39-.38-1.34-.8.03-.22.33-.45.91-.68 3.67-1.6 6.12-2.65 7.34-3.17 3.49-1.46 4.21-1.71 4.69-1.71.1 0 .34.02.49.15.12.1.16.24.17.35-.01.1-.02.3-.04.48z"/>
                    </svg>
                    Telegram
                </a>
            </div>
        </footer>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏–∑ URL
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –ª—É—á—à–µ –≥—Ä—É–∑–∏—Ç—å –∏–∑ JSON)
        const articlesDatabase = [
            {
                title: "–í–µ–ª–∏–∫–æ–µ –ø–µ—Ä–µ–º–∏—Ä–∏–µ –°–≤–æ–±–æ–¥–Ω—ã—Ö –∑–µ–º–µ–ª—å",
                date: "15 –º–∞—Ä—Ç–∞ 2025",
                excerpt: "Great Delug",
                tags: ["–ì—Ä–∏–Ω–≤–µ–ª—å", "Delug", "2026"],
                category: "events",
                link: "articles/gpotop.html",
                icon: "üìÖ"
            },
            {
                title: "–ú–æ—è —Å—Ç—Ä–∞–Ω–∞ –∏–∑ –†–ü",
                date: "10 —Ñ–µ–≤—Ä–∞–ª—è 2026",
                excerpt: "–û–ø–∏—Å–∞–Ω–∏–µ –º–æ–µ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ –≤ —Ä–æ–ª–µ–≤–æ–π –∏–≥—Ä–µ...",
                tags: ["—Å—Ç—Ä–∞–Ω–∞", "–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ", "–ø–æ–ª–∏—Ç–∏–∫–∞"],
                category: "countries",
                link: "articles/my-country.html",
                icon: "üåç"
            },
            {
                title: "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏",
                date: "14 —Ñ–µ–≤—Ä–∞–ª—è 2026",
                excerpt: "–ê—É–¥–∏–æ–∫–Ω–∏–≥–∞ —Å –∑–∞–ø–∏—Å—å—é 1 —á–∞—Å 23 –º–∏–Ω—É—Ç—ã...",
                tags: ["–∫–Ω–∏–≥–∞", "–∞—É–¥–∏–æ", "–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞"],
                category: "books",
                link: "articles/book.html",
                icon: "üìö"
            }
            // –î–æ–±–∞–≤—å—Ç–µ —Å—é–¥–∞ –≤—Å–µ —Å–≤–æ–∏ —Å—Ç–∞—Ç—å–∏
        ];

        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('searchInput');
            const searchQuerySpan = document.getElementById('searchQuery');
            const resultsContainer = document.getElementById('searchResults');
            const noResultsDiv = document.getElementById('noResults');
            
            // –ü–æ–ª—É—á–∞–µ–º –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏–∑ URL
            const tagQuery = getQueryParam('tag');
            
            if (tagQuery) {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á—Ç–æ –∏—â–µ–º
                searchQuerySpan.textContent = `–ü–æ –∑–∞–ø—Ä–æ—Å—É: "${tagQuery}"`;
                
                // –ó–∞–ø–æ–ª–Ω—è–µ–º –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞
                if (searchInput) {
                    searchInput.value = tagQuery;
                }
                
                // –ò—â–µ–º —Å—Ç–∞—Ç—å–∏ –ø–æ —Ç–µ–≥–∞–º (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ)
                const searchTerm = tagQuery.toLowerCase();
                const results = articlesDatabase.filter(article => {
                    return article.tags.some(tag => tag.toLowerCase().includes(searchTerm));
                });
                
                // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                if (results.length > 0) {
                    noResultsDiv.style.display = 'none';
                    
                    results.forEach(article => {
                        const card = document.createElement('a');
                        card.href = article.link;
                        card.className = 'article-card';
                        
                        // –°–æ–∑–¥–∞–µ–º —Ç–µ–≥–∏
                        const tagsHtml = article.tags.map(tag => 
                            `<span class="tag">#${tag}</span>`
                        ).join('');
                        
                        card.innerHTML = `
                            <span class="article-card-date">${article.date}</span>
                            <h3>${article.icon} ${article.title}</h3>
                            <p class="article-card-excerpt">${article.excerpt}</p>
                            <div class="article-tags">
                                ${tagsHtml}
                            </div>
                        `;
                        
                        resultsContainer.appendChild(card);
                    });
                } else {
                    // –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
                    noResultsDiv.style.display = 'block';
                }
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–∏—Å–∫–∞ (–∫–∞–∫ –∏ –≤ search.js)
            if (searchInput) {
                searchInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const query = this.value.trim();
                        if (query) {
                            window.location.href = 'search-results.html?tag=' + encodeURIComponent(query);
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>